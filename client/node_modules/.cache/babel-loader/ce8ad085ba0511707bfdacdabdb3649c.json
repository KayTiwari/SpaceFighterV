{"ast":null,"code":"import _classCallCheck from \"/Users/abhiktiwari/dev/assignments/projects/invisi/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/abhiktiwari/dev/assignments/projects/invisi/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/abhiktiwari/dev/assignments/projects/invisi/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/abhiktiwari/dev/assignments/projects/invisi/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/abhiktiwari/dev/assignments/projects/invisi/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/abhiktiwari/dev/assignments/projects/invisi/client/src/GameComponents/Ship.js\";\nimport React, { Component } from 'react';\nimport Bullet from './Bullet';\n\nvar Ship =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Ship, _Component);\n\n  function Ship(args) {\n    var _this;\n\n    _classCallCheck(this, Ship);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Ship).call(this, {}));\n\n    _this.update = function (keys) {\n      if (keys.right) {\n        _this.position.x += _this.speed;\n      } else if (keys.left) {\n        _this.position.x -= _this.speed;\n      }\n\n      if (keys.space && Date.now() - _this.lastShot > 250) {\n        var bullet = new Bullet({\n          position: {\n            x: _this.position.x,\n            y: _this.position.y - 5\n          },\n          speed: 2.5,\n          radius: 15,\n          direction: \"up\"\n        });\n\n        _this.bullets.push(bullet);\n\n        _this.lastShot = Date.now();\n      }\n    };\n\n    _this.state = {};\n    _this.position = args.position;\n    _this.speed = args.speed;\n    _this.radius = args.radius;\n    _this.delete = false;\n    _this.onDie = args.onDie;\n    _this.bullets = [];\n    _this.lastShot = 0;\n    return _this;\n  }\n\n  _createClass(Ship, [{\n    key: \"renderBullets\",\n    value: function renderBullets(state) {\n      var index = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.bullets[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var bullet = _step.value;\n\n          if (bullet.delete) {\n            this.bullets.splice(index, 1);\n          } else {\n            this.bullets[index].update();\n            this.bullets[index].render(state);\n          }\n\n          index++;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(state) {\n      if (this.position.x > state.screen.width) {\n        this.position.x = 0;\n      } else if (this.position.x < 0) {\n        this.position.x = state.screen.width;\n      }\n\n      if (this.position.y > state.screen.height) {\n        this.position.y = 0;\n      } else if (this.position.y < 0) {\n        this.position.y = state.screen.height;\n      }\n\n      var context = state.context;\n      context.save();\n      context.translate(this.position.x, this.position.y);\n      context.strokeStyle = '#ffffff';\n      context.fillStyle = '#ffffff';\n      context.lineWidth = 2;\n      context.beginPath();\n      context.moveTo(0, -25);\n      context.lineTo(15, 15);\n      context.lineTo(5, 7);\n      context.lineTo(-5, -7);\n      context.lineTo(-15, 15);\n      context.closePath();\n      context.fill();\n      context.stroke();\n      context.restore();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Ship;\n}(Component);\n\nexport default Ship;","map":{"version":3,"sources":["/Users/abhiktiwari/dev/assignments/projects/invisi/client/src/GameComponents/Ship.js"],"names":["React","Component","Bullet","Ship","args","update","keys","right","position","x","speed","left","space","Date","now","lastShot","bullet","y","radius","direction","bullets","push","state","delete","onDie","index","splice","render","screen","width","height","context","save","translate","strokeStyle","fillStyle","lineWidth","beginPath","moveTo","lineTo","closePath","fill","stroke","restore"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Bullet from './Bullet';\n\nclass Ship extends Component{\n    constructor(args){\n        super({\n        })\n        this.state = {\n        }\n        this.position = args.position;\n        this.speed = args.speed;\n        this.radius = args.radius;\n        this.delete = false;\n        this.onDie = args.onDie;\n        this.bullets = [];\n        this.lastShot = 0;\n    }\n    update = (keys) => {\n        if (keys.right) {\n            this.position.x += this.speed;\n        } else if (keys.left) {\n            this.position.x -= this.speed;\n        }\n        if (keys.space && Date.now() - this.lastShot > 250) {\n            const bullet = new Bullet ({\n                position: {x: this.position.x, y: this.position.y - 5},\n                speed: 2.5,\n                radius: 15,\n                direction: \"up\"\n            });\n            this.bullets.push(bullet);\n            this.lastShot = Date.now();\n        }\n    }\n\n    renderBullets(state) {\n        let index = 0;\n        for(let bullet of this.bullets) {\n            if (bullet.delete) {\n                this.bullets.splice(index, 1);\n            } else {\n                this.bullets[index].update();\n                this.bullets[index].render(state);\n            }\n            index++;\n        }\n    }\n\n    render(state) {\n        if (this.position.x > state.screen.width) {\n            this.position.x = 0;\n        } else if (this.position.x < 0) {\n            this.position.x = state.screen.width;\n        }\n        if (this.position.y > state.screen.height) {\n            this.position.y = 0;\n        } else if (this.position.y < 0) {\n            this.position.y = state.screen.height;\n        }\n        const context = state.context;\n        context.save();\n        context.translate(this.position.x, this.position.y);\n        context.strokeStyle = '#ffffff';\n        context.fillStyle = '#ffffff';\n        context.lineWidth = 2;\n        context.beginPath();\n        context.moveTo(0, -25);\n        context.lineTo(15, 15);\n        context.lineTo(5, 7);\n        context.lineTo(-5, -7);\n        context.lineTo(-15, 15);\n        context.closePath();\n        context.fill();\n        context.stroke();\n        context.restore();\n\n        return(\n            <div></div>\n        )\n    }\n}\nexport default Ship"]},"metadata":{},"sourceType":"module"}